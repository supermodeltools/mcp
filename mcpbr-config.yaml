# Supermodel MCP server configuration for mcpbr
#
# This uses the Supermodel codebase analysis MCP server.
# Requires SUPERMODEL_API_KEY environment variable.

mcp_server:
  name: "supermodel"
  command: "npx"
  args:
    - "-y"
    - "@supermodeltools/mcp-server@0.9.0"
    - "{workdir}"
    - "--precache"
  env:
    SUPERMODEL_API_KEY: "${SUPERMODEL_API_KEY}"
    SUPERMODEL_BASE_URL: "https://api.supermodeltools.com"
    SUPERMODEL_CACHE_DIR: "/tmp/supermodel-cache"
  setup_command: "npx -y @supermodeltools/mcp-server@0.9.0 precache {workdir} --output-dir /tmp/supermodel-cache"
  setup_timeout_ms: 900000

provider: "anthropic"

agent_harness: "claude-code"

model: "claude-sonnet-4-20250514"

benchmark: "swe-bench-verified"

timeout_seconds: 300

max_concurrent: 4

max_iterations: 30
